<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="DP_IMP_CFG" >
  <resultMap id="abatorgenerated_DpImpCfgResult" class="com.synesoft.fisp.domain.model.DpImpCfg" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Mon Nov 11 15:55:49 CST 2013.
    -->
    <result column="IMP_ID" property="impId" jdbcType="VARCHAR" />
    <result column="PROJ_ID" property="projId" jdbcType="VARCHAR" />
    <result column="BRANCH_ID" property="branchId" jdbcType="VARCHAR" />
    <result column="BATCH_NO" property="batchNo" jdbcType="DECIMAL" />
    <result column="SEQ_NO" property="seqNo" jdbcType="DECIMAL" />
    <result column="TABLE_NAME" property="tableName" jdbcType="VARCHAR" />
    <result column="FILE_ID" property="fileId" jdbcType="VARCHAR" />
    <result column="FILE_NAME" property="fileName" jdbcType="VARCHAR" />
    <result column="FILE_PATH" property="filePath" jdbcType="VARCHAR" />
    <result column="MAND_FLAG" property="mandFlag" jdbcType="VARCHAR" />
    <result column="COMMENTS" property="comments" jdbcType="VARCHAR" />
    <result column="CREATE_TIME" property="createTime" jdbcType="CHAR" />
    <result column="CREATE_USER" property="createUser" jdbcType="VARCHAR" />
    <result column="UPDATE_TIME" property="updateTime" jdbcType="CHAR" />
    <result column="UPDATE_USER" property="updateUser" jdbcType="VARCHAR" />
    <result column="RSV1" property="rsv1" jdbcType="VARCHAR" />
    <result column="RSV2" property="rsv2" jdbcType="VARCHAR" />
    <result column="RSV3" property="rsv3" jdbcType="VARCHAR" />
    <result column="RSV4" property="rsv4" jdbcType="VARCHAR" />
    <result column="RSV5" property="rsv5" jdbcType="VARCHAR" />
  </resultMap>
  
  <!-- query a piece of record by primary key -->
  <select id="selectByPrimaryKey" 
  		parameterClass="java.lang.String" resultMap="abatorgenerated_DpImpCfgResult">
	SELECT 
		IMP_ID, PROJ_ID, BRANCH_ID, BATCH_NO, SEQ_NO, TABLE_NAME, FILE_ID, FILE_NAME, FILE_PATH, 
		MAND_FLAG, COMMENTS, CREATE_TIME, CREATE_USER, UPDATE_TIME, UPDATE_USER, RSV1, RSV2, 
		RSV3, RSV4, RSV5
	FROM
		DP_IMP_CFG
	WHERE
		IMP_ID = #value:VARCHAR#	  
  </select>
  
  <!-- query a piece of record by logic key -->
  <select id="selectByKey" 
  		parameterClass="com.synesoft.fisp.domain.model.DpImpCfg" resultMap="abatorgenerated_DpImpCfgResult">
	SELECT 
		IMP_ID, PROJ_ID, BRANCH_ID, BATCH_NO, SEQ_NO, TABLE_NAME, FILE_ID, FILE_NAME, FILE_PATH, 
		MAND_FLAG, COMMENTS, CREATE_TIME, CREATE_USER, UPDATE_TIME, UPDATE_USER, RSV1, RSV2, 
		RSV3, RSV4, RSV5
	FROM
		DP_IMP_CFG
	WHERE
		PROJ_ID = #projId:VARCHAR# AND
		BRANCH_ID = #branchId:VARCHAR# AND
		BATCH_NO = #batchNo:VARCHAR# AND
		SEQ_NO = #seqNo:VARCHAR#
  </select>
  
  <!-- query size of list -->
  <select id="selectQueryCounts" 
  		parameterClass="com.synesoft.fisp.domain.model.DpImpCfg" resultClass="java.lang.Integer">
	SELECT 
		COUNT(*)
	FROM
		DP_IMP_CFG
    <dynamic prepend="WHERE">
		<isNotEmpty prepend="AND" property="branchId">
			BRANCH_ID = #branchId:VARCHAR#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="tableName">
			TABLE_NAME LIKE '%'||#tableName#||'%'
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="fileId">
			FILE_ID = #fileId:VARCHAR#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="fileName">
			FILE_NAME LIKE '%'||#fileName#||'%'
		</isNotEmpty>
	</dynamic>
  </select>
  
  <!-- query list -->
  <select id="selectQueryList" 
  		parameterClass="com.synesoft.fisp.domain.model.DpImpCfg" resultMap="abatorgenerated_DpImpCfgResult">
	SELECT 
		IMP_ID, PROJ_ID, BRANCH_ID, BATCH_NO, SEQ_NO, TABLE_NAME, FILE_ID, FILE_NAME, FILE_PATH, 
		MAND_FLAG, COMMENTS, CREATE_TIME, CREATE_USER, UPDATE_TIME, UPDATE_USER, RSV1, RSV2, 
		RSV3, RSV4, RSV5
	FROM
		DP_IMP_CFG
    <dynamic prepend="WHERE">
		<isNotEmpty prepend="AND" property="branchId">
			BRANCH_ID = #branchId:VARCHAR#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="tableName">
			TABLE_NAME LIKE '%'||#tableName#||'%'
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="fileId">
			FILE_ID = #fileId:VARCHAR#
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="fileName">
			FILE_NAME LIKE '%'||#fileName#||'%'
		</isNotEmpty>
		<isNotEmpty  prepend="AND" property="comments">
			COMMENTS like '%$comments$%' 
		</isNotEmpty>
	</dynamic>
	ORDER BY 
		PROJ_ID, BRANCH_ID, BATCH_NO, SEQ_NO
  </select>
  
  <!-- delete a piece of record -->
  <delete id="deleteByPrimaryKey" 
  		parameterClass="com.synesoft.fisp.domain.model.DpImpCfg">
	DELETE FROM
		DP_IMP_CFG
	WHERE	
		IMP_ID = #impId:VARCHAR# AND
		((UPDATE_TIME IS NULL AND
		UPDATE_USER IS NULL) OR
		(UPDATE_TIME = #updateTime:CHAR# AND 
		UPDATE_USER = #updateUser:VARCHAR#))
  </delete>
  
  <!-- insert a piece of record -->
  <insert id="insert" 
  		parameterClass="com.synesoft.fisp.domain.model.DpImpCfg">
	INSERT INTO
		DP_IMP_CFG
	(
		IMP_ID, PROJ_ID, BRANCH_ID, BATCH_NO, SEQ_NO, 
		TABLE_NAME, FILE_ID, FILE_NAME, FILE_PATH, 
		MAND_FLAG, COMMENTS, CREATE_TIME, CREATE_USER, 
		UPDATE_TIME, UPDATE_USER, RSV1, RSV2, 
		RSV3, RSV4, RSV5
	) VALUES (
		#impId:VARCHAR#, #projId:VARCHAR#, #branchId:VARCHAR#, #batchNo:DECIMAL#, #seqNo:DECIMAL#, 
		#tableName:VARCHAR#, #fileId:VARCHAR#, #fileName:VARCHAR#, #filePath:VARCHAR#, 
		#mandFlag:VARCHAR#, #comments:VARCHAR#, #createTime:CHAR#, #createUser:VARCHAR#, 
		#updateTime:CHAR#, #updateUser:VARCHAR#, #rsv1:VARCHAR#, #rsv2:VARCHAR#,
		#rsv3:VARCHAR#, #rsv4:VARCHAR#, #rsv5:VARCHAR#
	)	
  </insert>
  
  <!-- update one record -->
  <update id="updateByPrimaryKey" 
  		parameterClass="com.synesoft.fisp.domain.model.vo.DpImpCfgVO">
  	UPDATE
  		DP_IMP_CFG
	SET
   		COMMENTS = #comments:VARCHAR#,
   		UPDATE_TIME = #updateTime:CHAR#,
		UPDATE_USER = #updateUser:VARCHAR#
		<isNotEmpty prepend="," property="projId" >
  			PROJ_ID = #projId:VARCHAR#
		</isNotEmpty>
		<isNotEmpty prepend="," property="branchId" >
  			BRANCH_ID = #branchId:VARCHAR#
		</isNotEmpty>
		<isNotEmpty prepend="," property="batchNo" >
  			BATCH_NO = #batchNo:DECIMAL#
		</isNotEmpty>
		<isNotEmpty prepend="," property="seqNo" >
  			SEQ_NO = #seqNo:DECIMAL#
		</isNotEmpty>
		<isNotEmpty prepend="," property="filePath" >
  			FILE_PATH = #filePath:VARCHAR#
		</isNotEmpty>
		<isNotEmpty prepend="," property="mandFlag" >
			MAND_FLAG = #mandFlag:VARCHAR#
		</isNotEmpty>
	WHERE
		IMP_ID = #impId:VARCHAR# AND
		((UPDATE_TIME IS NULL AND
		UPDATE_USER IS NULL) OR
		(UPDATE_TIME = #oldUpdateTime:CHAR# AND 
		UPDATE_USER = #oldUpdateUser:VARCHAR#))
  </update>
  
</sqlMap>