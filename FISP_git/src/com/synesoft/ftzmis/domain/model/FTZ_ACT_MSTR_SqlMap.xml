<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="FTZ_ACT_MSTR">
  <resultMap class="com.synesoft.ftzmis.domain.model.FtzActMstr" id="FtzActMstrResult">
    <result column="ACCOUNT_NO" jdbcType="VARCHAR" property="accountNo" />
    <result column="SUB_ACCOUNT_NO" jdbcType="VARCHAR" property="subAccountNo" />
    <result column="BRANCH_ID" jdbcType="VARCHAR" property="branchId" />
    <result column="CURRENCY" jdbcType="CHAR" property="currency" />
    <result column="DEPT_TYPE" jdbcType="CHAR" property="deptType" />
    <result column="BALANCE_CODE" jdbcType="CHAR" property="balanceCode" />
    <result column="ACC_ORG_CODE" jdbcType="VARCHAR" property="accOrgCode" />
    <result column="ACCOUNT_NAME" jdbcType="VARCHAR" property="accountName" />
    <result column="ACC_TYPE" jdbcType="CHAR" property="accType" />
    <result column="DEPOSIT_RATE" jdbcType="DECIMAL" property="depositRate" />
    <result column="CUSTOM_TYPE" jdbcType="CHAR" property="customType" />
    <result column="DOCUMENT_TYPE" jdbcType="CHAR" property="documentType" />
    <result column="DOCUMENT_NO" jdbcType="VARCHAR" property="documentNo" />
    <result column="ACC_STATUS" jdbcType="CHAR" property="accStatus" />
    <result column="LAST_BALANCE" jdbcType="DECIMAL" property="lastBalance" />
    <result column="DEBIT_COUNT" jdbcType="DECIMAL" property="debitCount" />
    <result column="DEBIT_AMOUNT" jdbcType="DECIMAL" property="debitAmount" />
    <result column="CREDIT_COUNT" jdbcType="DECIMAL" property="creditCount" />
    <result column="CREDIT_AMOUNT" jdbcType="DECIMAL" property="creditAmount" />
    <result column="BALANCE" jdbcType="DECIMAL" property="balance" />
    <result column="RSV1" jdbcType="VARCHAR" property="rsv1" />
    <result column="RSV2" jdbcType="VARCHAR" property="rsv2" />
    <result column="RSV3" jdbcType="VARCHAR" property="rsv3" />
    <result column="MAK_USER_ID" jdbcType="VARCHAR" property="makUserId" />
    <result column="MAK_DATETIME" jdbcType="VARCHAR" property="makDatetime" />
    <result column="CHK_USER_ID" jdbcType="VARCHAR" property="chkUserId" />
    <result column="CHK_DATETIME" jdbcType="VARCHAR" property="chkDatetime" />
    <result column="CHK_ADD_WORD" jdbcType="VARCHAR" property="chkAddWord" />
  </resultMap>
  
  <select id="selectByPrimaryKeyByAccountNo" parameterClass="com.synesoft.ftzmis.domain.model.FtzActMstr" resultMap="FtzActMstrResult">
    select ACCOUNT_NO, SUB_ACCOUNT_NO, BRANCH_ID, CURRENCY, DEPT_TYPE, BALANCE_CODE, ACC_ORG_CODE,
      ACCOUNT_NAME, ACC_TYPE, DEPOSIT_RATE, CUSTOM_TYPE, DOCUMENT_TYPE, DOCUMENT_NO, ACC_STATUS,
      LAST_BALANCE, DEBIT_COUNT, DEBIT_AMOUNT, CREDIT_COUNT, CREDIT_AMOUNT, BALANCE, RSV1, RSV2,
      RSV3, MAK_USER_ID, MAK_DATETIME, CHK_USER_ID, CHK_DATETIME, CHK_ADD_WORD
    from FTZ_ACT_MSTR
    where ACCOUNT_NO = #accountNo:VARCHAR#
  </select>
  
  <select id="selectByPrimaryKey" parameterClass="com.synesoft.ftzmis.domain.model.FtzActMstr" resultMap="FtzActMstrResult">
    select ACCOUNT_NO, SUB_ACCOUNT_NO, BRANCH_ID, CURRENCY, DEPT_TYPE, BALANCE_CODE, ACC_ORG_CODE,
      ACCOUNT_NAME, ACC_TYPE, DEPOSIT_RATE, CUSTOM_TYPE, DOCUMENT_TYPE, DOCUMENT_NO, ACC_STATUS,
      LAST_BALANCE, DEBIT_COUNT, DEBIT_AMOUNT, CREDIT_COUNT, CREDIT_AMOUNT, BALANCE, RSV1, RSV2,
      RSV3, MAK_USER_ID, MAK_DATETIME, CHK_USER_ID, CHK_DATETIME, CHK_ADD_WORD
    from FTZ_ACT_MSTR
    where ACCOUNT_NO = #accountNo:VARCHAR#
      and SUB_ACCOUNT_NO = #subAccountNo:VARCHAR#
  </select>
  <delete id="deleteByPrimaryKey" parameterClass="com.synesoft.ftzmis.domain.model.FtzActMstr">
    delete from FTZ_ACT_MSTR
    where ACCOUNT_NO = #accountNo:VARCHAR#
      and SUB_ACCOUNT_NO = #subAccountNo:VARCHAR#
  </delete>
  <insert id="insert" parameterClass="com.synesoft.ftzmis.domain.model.FtzActMstr">
  
    insert into FTZ_ACT_MSTR (ACCOUNT_NO, SUB_ACCOUNT_NO, BRANCH_ID, CURRENCY, DEPT_TYPE,
      BALANCE_CODE, ACC_ORG_CODE, ACCOUNT_NAME, ACC_TYPE, DEPOSIT_RATE, CUSTOM_TYPE, DOCUMENT_TYPE,
      DOCUMENT_NO, ACC_STATUS, LAST_BALANCE, DEBIT_COUNT, DEBIT_AMOUNT, CREDIT_COUNT, CREDIT_AMOUNT,
      BALANCE, RSV1, RSV2, RSV3, MAK_USER_ID, MAK_DATETIME, CHK_USER_ID, CHK_DATETIME, CHK_ADD_WORD)
    values (#accountNo:VARCHAR#, #subAccountNo:VARCHAR#, #branchId:VARCHAR#, #currency:CHAR#,
      #deptType:CHAR#, #balanceCode:CHAR#, #accOrgCode:VARCHAR#, #accountName:VARCHAR#,
      #accType:CHAR#, #depositRate:DECIMAL#, #customType:CHAR#, #documentType:CHAR#,
      #documentNo:VARCHAR#, #accStatus:CHAR#, #lastBalance:DECIMAL#, #debitCount:DECIMAL#,
      #debitAmount:DECIMAL#, #creditCount:DECIMAL#, #creditAmount:DECIMAL#, #balance:DECIMAL#,
      #rsv1:VARCHAR#, #rsv2:VARCHAR#, #rsv3:VARCHAR#, #makUserId:VARCHAR#, #makDatetime:VARCHAR#,
      #chkUserId:VARCHAR#, #chkDatetime:VARCHAR#, #chkAddWord:VARCHAR#)
  </insert>
  <update id="updateByPrimaryKeySelective" parameterClass="com.synesoft.ftzmis.domain.model.FtzActMstr">
  
    update FTZ_ACT_MSTR
    <dynamic prepend="set">
    	<isNotNull prepend="," property="branchId">
    		BRANCH_ID = #branchId:VARCHAR#
    	</isNotNull>
    	<isNotNull prepend="," property="accountName">
    		ACCOUNT_NAME = #accountName:VARCHAR#
    	</isNotNull>
    	<isNotNull prepend="," property="deptType">
    		DEPT_TYPE = #deptType:CHAR#
    	</isNotNull>
    	<isNotNull prepend="," property="balanceCode">
    		BALANCE_CODE = #balanceCode:CHAR#
    	</isNotNull>
    	<isNotNull prepend="," property="accountNo">
    		ACCOUNT_NO = #accountNo:VARCHAR#
    	</isNotNull>
    	<isNotNull prepend="," property="subAccountNo">
    		SUB_ACCOUNT_NO = #subAccountNo:VARCHAR#
    	</isNotNull>
    	<isNotNull prepend="," property="currency">
    		CURRENCY = #currency:CHAR#
    	</isNotNull>
    	<isNotNull prepend="," property="accType">
    		ACC_TYPE = #accType:CHAR#
    	</isNotNull>
    	<isNotNull prepend="," property="documentType">
    		DOCUMENT_TYPE = #documentType:CHAR#
    	</isNotNull>
    	<isNotNull prepend="," property="documentNo">
    		DOCUMENT_NO = #documentNo:VARCHAR#
    	</isNotNull>
    	<isNotNull prepend="," property="customType">
    		CUSTOM_TYPE = #customType:CHAR#
    	</isNotNull>
    	<isNotNull prepend="," property="accOrgCode">
    		ACC_ORG_CODE = #accOrgCode:VARCHAR#
    	</isNotNull>
    	<isNotNull prepend="," property="balance">
    		BALANCE = #balance:DECIMAL#
    	</isNotNull>
    	<isNotNull prepend="," property="depositRate">
    		DEPOSIT_RATE = #depositRate:DECIMAL#
    	</isNotNull>
    	<isNotNull prepend="," property="lastBalance">
    		LAST_BALANCE = #lastBalance:DECIMAL#
    	</isNotNull>
    	<isNotNull prepend="," property="debitCount">
    		DEBIT_COUNT = #debitCount:DECIMAL#
    	</isNotNull>
    	<isNotNull prepend="," property="debitAmount">
    		DEBIT_AMOUNT = #debitAmount:DECIMAL#
    	</isNotNull>
    	<isNotNull prepend="," property="creditCount">
    		CREDIT_COUNT = #creditCount:DECIMAL#
    	</isNotNull>
    	<isNotNull prepend="," property="creditAmount">
    		CREDIT_AMOUNT = #creditAmount:DECIMAL#
    	</isNotNull>
    	<isNotNull prepend="," property="accStatus">
    		ACC_STATUS = #accStatus:CHAR#
    	</isNotNull>
    	<isNotNull prepend="," property="makUserId">
    		MAK_USER_ID = #makUserId:VARCHAR#
    	</isNotNull>
    	<isNotNull prepend="," property="makDatetime">
    		MAK_DATETIME = #makDatetime:VARCHAR#
    	</isNotNull>
    	<isNotNull prepend="," property="chkUserId">
    		CHK_USER_ID = #chkUserId:VARCHAR#
    	</isNotNull>
    	<isNotNull prepend="," property="chkDatetime">
    		CHK_DATETIME = #chkDatetime:VARCHAR#
    	</isNotNull>
    	<isNotNull prepend="," property="chkAddWord">
    		CHK_ADD_WORD = #chkAddWord:VARCHAR#
    	</isNotNull>
    </dynamic>
    where ACCOUNT_NO = #accountNo:VARCHAR#
      and SUB_ACCOUNT_NO = #subAccountNo:VARCHAR#
     <isNotEmpty property="rsv1">
			and MAK_DATETIME = #rsv1:VARCHAR#
	 </isNotEmpty>
	 <isNotEmpty property="rsv2">
			and CHK_DATETIME = #rsv2:VARCHAR#
	 </isNotEmpty>
  </update>
  
  <!-- common query condition -->
  <sql id="queryCondition">
  	where 1=1
  	<isNotEmpty property="branchId">
			and BRANCH_ID = #branchId#
	</isNotEmpty>
	<isNotEmpty property="accountName">
			and ACCOUNT_NAME like
			'%$accountName$%'
	</isNotEmpty>
	<isNotEmpty property="accountNo">
			and ACCOUNT_NO = #accountNo#
	</isNotEmpty>
	<isNotEmpty property="subAccountNo">
			and SUB_ACCOUNT_NO = #subAccountNo#
	</isNotEmpty>
	<isNotEmpty property="currency">
			and CURRENCY = #currency#
	</isNotEmpty>
	<isNotEmpty property="accType">
			and ACC_TYPE = #accType#
	</isNotEmpty>
	<isNotEmpty property="accStatus">
			and ACC_STATUS = #accStatus#
	</isNotEmpty>
	order by ACCOUNT_NO, SUB_ACCOUNT_NO
  </sql>
  
  <select id="selectCounts" parameterClass="com.synesoft.ftzmis.domain.model.FtzActMstr" resultClass="java.lang.Integer">
  		select count(*) from FTZ_ACT_MSTR
  		<include refid="queryCondition" />
  </select>
  
  <select id="selectList" parameterClass="com.synesoft.ftzmis.domain.model.FtzActMstr" resultMap="FtzActMstrResult">
		select * from FTZ_ACT_MSTR
		<include refid="queryCondition" />
	</select>
  
  <update id="updateContentByPmkey" parameterClass="com.synesoft.ftzmis.domain.model.FtzActMstr">
  		update FTZ_ACT_MSTR
    <dynamic prepend="set">
    	<isNotNull prepend="," property="accStatus">
    		ACC_STATUS = #accStatus:CHAR#
    	</isNotNull>
    </dynamic>
     where ACCOUNT_NO = #accountNo:VARCHAR#
      and SUB_ACCOUNT_NO = #subAccountNo:VARCHAR#
  </update>
</sqlMap>