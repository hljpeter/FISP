<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="FTZ_ACT_MSTR" >
  <resultMap id="FtzActMstrResult" class="com.synesoft.ftzmis.domain.model.FtzActMstr" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Mon Jan 27 18:40:28 CST 2014.
    -->
    <result column="ACCOUNT_NO" property="accountNo" jdbcType="VARCHAR" />
    <result column="SUB_ACCOUNT_NO" property="subAccountNo" jdbcType="VARCHAR" />
    <result column="SUBMIT_DATE" property="submitDate" jdbcType="CHAR" />
    <result column="BRANCH_ID" property="branchId" jdbcType="VARCHAR" />
    <result column="SEQ_NO" property="seqNo" jdbcType="VARCHAR" />
    <result column="CURRENCY" property="currency" jdbcType="CHAR" />
    <result column="DEPT_TYPE" property="deptType" jdbcType="CHAR" />
    <result column="BALANCE_CODE" property="balanceCode" jdbcType="CHAR" />
    <result column="ACC_ORG_CODE" property="accOrgCode" jdbcType="VARCHAR" />
    <result column="ACCOUNT_NAME" property="accountName" jdbcType="VARCHAR" />
    <result column="ACC_TYPE" property="accType" jdbcType="CHAR" />
    <result column="DEPOSIT_RATE" property="depositRate" jdbcType="DECIMAL" />
    <result column="CUSTOM_TYPE" property="customType" jdbcType="CHAR" />
    <result column="DOCUMENT_TYPE" property="documentType" jdbcType="CHAR" />
    <result column="DOCUMENT_NO" property="documentNo" jdbcType="VARCHAR" />
    <result column="ACC_STATUS" property="accStatus" jdbcType="CHAR" />
    <result column="LAST_BALANCE" property="lastBalance" jdbcType="DECIMAL" />
    <result column="DEBIT_COUNT" property="debitCount" jdbcType="DECIMAL" />
    <result column="DEBIT_AMOUNT" property="debitAmount" jdbcType="DECIMAL" />
    <result column="CREDIT_COUNT" property="creditCount" jdbcType="DECIMAL" />
    <result column="CREDIT_AMOUNT" property="creditAmount" jdbcType="DECIMAL" />
    <result column="REVERSAL_DEBIT_COUNT" property="reversalDebitCount" jdbcType="DECIMAL" />
    <result column="REVERSAL_DEBIT_AMOUNT" property="reversalDebitAmount" jdbcType="DECIMAL" />
    <result column="REVERSAL_CREDIT_COUNT" property="reversalCreditCount" jdbcType="DECIMAL" />
    <result column="REVERSAL_CREDIT_AMOUNT" property="reversalCreditAmount" jdbcType="DECIMAL" />
    <result column="BALANCE" property="balance" jdbcType="DECIMAL" />
    <result column="CHECK_STATUS" property="checkStatus" jdbcType="CHAR" />
    <result column="CHECK_DATETIME" property="checkDatetime" jdbcType="VARCHAR" />
    <result column="MAK_USER_ID" property="makUserId" jdbcType="VARCHAR" />
    <result column="MAK_DATETIME" property="makDatetime" jdbcType="VARCHAR" />
    <result column="CHK_USER_ID" property="chkUserId" jdbcType="VARCHAR" />
    <result column="CHK_DATETIME" property="chkDatetime" jdbcType="VARCHAR" />
    <result column="CHK_ADD_WORD" property="chkAddWord" jdbcType="VARCHAR" />
    <result column="RSV1" property="rsv1" jdbcType="VARCHAR" />
    <result column="RSV2" property="rsv2" jdbcType="VARCHAR" />
    <result column="RSV3" property="rsv3" jdbcType="VARCHAR" />
  </resultMap>
  <select id="selectByPrimaryKeyByAccountNo" parameterClass="com.synesoft.ftzmis.domain.model.FtzActMstr" resultMap="FtzActMstrResult">
    select ACCOUNT_NO, SUB_ACCOUNT_NO, SUBMIT_DATE, BRANCH_ID, SEQ_NO, CURRENCY, DEPT_TYPE,
      BALANCE_CODE, ACC_ORG_CODE, ACCOUNT_NAME, ACC_TYPE, DEPOSIT_RATE, CUSTOM_TYPE, DOCUMENT_TYPE,
      DOCUMENT_NO, ACC_STATUS, LAST_BALANCE, DEBIT_COUNT, DEBIT_AMOUNT, CREDIT_COUNT, CREDIT_AMOUNT,
      REVERSAL_DEBIT_COUNT, REVERSAL_DEBIT_AMOUNT, REVERSAL_CREDIT_COUNT, REVERSAL_CREDIT_AMOUNT,
      BALANCE, CHECK_STATUS, CHECK_DATETIME, MAK_USER_ID, MAK_DATETIME, CHK_USER_ID, CHK_DATETIME,
      CHK_ADD_WORD, RSV1, RSV2, RSV3
    from FTZ_ACT_MSTR
    where ACCOUNT_NO = #accountNo:VARCHAR#
  </select>
  
  <select id="selectByPrimaryKey" parameterClass="com.synesoft.ftzmis.domain.model.FtzActMstr" resultMap="FtzActMstrResult">
    select ACCOUNT_NO, SUB_ACCOUNT_NO, SUBMIT_DATE, BRANCH_ID, SEQ_NO, CURRENCY, DEPT_TYPE,
      BALANCE_CODE, ACC_ORG_CODE, ACCOUNT_NAME, ACC_TYPE, DEPOSIT_RATE, CUSTOM_TYPE, DOCUMENT_TYPE,
      DOCUMENT_NO, ACC_STATUS, LAST_BALANCE, DEBIT_COUNT, DEBIT_AMOUNT, CREDIT_COUNT, CREDIT_AMOUNT,
      REVERSAL_DEBIT_COUNT, REVERSAL_DEBIT_AMOUNT, REVERSAL_CREDIT_COUNT, REVERSAL_CREDIT_AMOUNT,
      BALANCE, CHECK_STATUS, CHECK_DATETIME, MAK_USER_ID, MAK_DATETIME, CHK_USER_ID, CHK_DATETIME,
      CHK_ADD_WORD, RSV1, RSV2, RSV3
    from FTZ_ACT_MSTR
    where ACCOUNT_NO = #accountNo:VARCHAR#
      and SUB_ACCOUNT_NO = #subAccountNo:VARCHAR#
  </select>
  <delete id="deleteByPrimaryKey" parameterClass="com.synesoft.ftzmis.domain.model.FtzActMstr">
    delete from FTZ_ACT_MSTR
    where ACCOUNT_NO = #accountNo:VARCHAR#
      and SUB_ACCOUNT_NO = #subAccountNo:VARCHAR#
  </delete>
  <insert id="insert" parameterClass="com.synesoft.ftzmis.domain.model.FtzActMstr">
  
     insert into FTZ_ACT_MSTR (ACCOUNT_NO, SUB_ACCOUNT_NO, SUBMIT_DATE, BRANCH_ID, SEQ_NO, CURRENCY,
      DEPT_TYPE, BALANCE_CODE, ACC_ORG_CODE, ACCOUNT_NAME, ACC_TYPE, DEPOSIT_RATE, CUSTOM_TYPE,
      DOCUMENT_TYPE, DOCUMENT_NO, ACC_STATUS, LAST_BALANCE, DEBIT_COUNT, DEBIT_AMOUNT, CREDIT_COUNT,
      CREDIT_AMOUNT, REVERSAL_DEBIT_COUNT, REVERSAL_DEBIT_AMOUNT, REVERSAL_CREDIT_COUNT,
      REVERSAL_CREDIT_AMOUNT, BALANCE, CHECK_STATUS, CHECK_DATETIME, MAK_USER_ID, MAK_DATETIME,
      CHK_USER_ID, CHK_DATETIME, CHK_ADD_WORD, RSV1, RSV2, RSV3)
    values (#accountNo:VARCHAR#, #subAccountNo:VARCHAR#, #submitDate:CHAR#, #branchId:VARCHAR#,
      #seqNo:VARCHAR#, #currency:CHAR#, #deptType:CHAR#, #balanceCode:CHAR#, #accOrgCode:VARCHAR#,
      #accountName:VARCHAR#, #accType:CHAR#, #depositRate:DECIMAL#, #customType:CHAR#,
      #documentType:CHAR#, #documentNo:VARCHAR#, #accStatus:CHAR#, #lastBalance:DECIMAL#,
      #debitCount:DECIMAL#, #debitAmount:DECIMAL#, #creditCount:DECIMAL#, #creditAmount:DECIMAL#,
      #reversalDebitCount:DECIMAL#, #reversalDebitAmount:DECIMAL#, #reversalCreditCount:DECIMAL#,
      #reversalCreditAmount:DECIMAL#, #balance:DECIMAL#, #checkStatus:CHAR#,
      #checkDatetime:VARCHAR#, #makUserId:VARCHAR#, #makDatetime:VARCHAR#, #chkUserId:VARCHAR#,
      #chkDatetime:VARCHAR#, #chkAddWord:VARCHAR#, #rsv1:VARCHAR#, #rsv2:VARCHAR#, #rsv3:VARCHAR#)
  </insert>
  <update id="updateByPrimaryKeySelective" parameterClass="com.synesoft.ftzmis.domain.model.FtzActMstr">
  
    update FTZ_ACT_MSTR
    <dynamic prepend="set" >
      <isNotNull prepend="," property="submitDate" >
        SUBMIT_DATE = #submitDate:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="branchId" >
        BRANCH_ID = #branchId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="seqNo" >
        SEQ_NO = #seqNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="currency" >
        CURRENCY = #currency:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="deptType" >
        DEPT_TYPE = #deptType:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="balanceCode" >
        BALANCE_CODE = #balanceCode:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="accOrgCode" >
        ACC_ORG_CODE = #accOrgCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="accountName" >
        ACCOUNT_NAME = #accountName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="accType" >
        ACC_TYPE = #accType:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="depositRate" >
        DEPOSIT_RATE = #depositRate:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="customType" >
        CUSTOM_TYPE = #customType:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="documentType" >
        DOCUMENT_TYPE = #documentType:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="documentNo" >
        DOCUMENT_NO = #documentNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="accStatus" >
        ACC_STATUS = #accStatus:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="lastBalance" >
        LAST_BALANCE = #lastBalance:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="debitCount" >
        DEBIT_COUNT = #debitCount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="debitAmount" >
        DEBIT_AMOUNT = #debitAmount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="creditCount" >
        CREDIT_COUNT = #creditCount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="creditAmount" >
        CREDIT_AMOUNT = #creditAmount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="reversalDebitCount" >
        REVERSAL_DEBIT_COUNT = #reversalDebitCount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="reversalDebitAmount" >
        REVERSAL_DEBIT_AMOUNT = #reversalDebitAmount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="reversalCreditCount" >
        REVERSAL_CREDIT_COUNT = #reversalCreditCount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="reversalCreditAmount" >
        REVERSAL_CREDIT_AMOUNT = #reversalCreditAmount:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="balance" >
        BALANCE = #balance:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="checkStatus" >
        CHECK_STATUS = #checkStatus:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="checkDatetime" >
        CHECK_DATETIME = #checkDatetime:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="makUserId" >
        MAK_USER_ID = #makUserId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="makDatetime" >
        MAK_DATETIME = #makDatetime:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="chkUserId" >
        CHK_USER_ID = #chkUserId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="chkDatetime" >
        CHK_DATETIME = #chkDatetime:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="chkAddWord" >
        CHK_ADD_WORD = #chkAddWord:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="rsv1" >
        RSV1 = #rsv1:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="rsv2" >
        RSV2 = #rsv2:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="rsv3" >
        RSV3 = #rsv3:VARCHAR#
      </isNotNull>
    </dynamic>
    where ACCOUNT_NO = #accountNo:VARCHAR#
      and SUB_ACCOUNT_NO = #subAccountNo:VARCHAR#
     <isNotEmpty property="rsv1">
			and MAK_DATETIME = #rsv1:VARCHAR#
	 </isNotEmpty>
	 <isNotEmpty property="rsv2">
			and CHK_DATETIME = #rsv2:VARCHAR#
	 </isNotEmpty>
  </update>
  
  <!-- common query condition -->
  <sql id="queryCondition">
  	where 1=1
  	<isNotEmpty property="branchId">
			and BRANCH_ID = #branchId#
	</isNotEmpty>
	<isNotEmpty property="accountName">
			and ACCOUNT_NAME like
			'%$accountName$%'
	</isNotEmpty>
	<isNotEmpty property="accountNo">
			and ACCOUNT_NO = #accountNo#
	</isNotEmpty>
	<isNotEmpty property="subAccountNo">
			and SUB_ACCOUNT_NO = #subAccountNo#
	</isNotEmpty>
	<isNotEmpty property="currency">
			and CURRENCY = #currency#
	</isNotEmpty>
	<isNotEmpty property="accType">
			and ACC_TYPE = #accType#
	</isNotEmpty>
	<isNotEmpty property="accStatus">
			and ACC_STATUS = #accStatus#
	</isNotEmpty>
	<isNotEmpty property="submitDate">
			and SUBMIT_DATE = #submitDate#
	</isNotEmpty>
	
	order by ACCOUNT_NO, SUB_ACCOUNT_NO
  </sql>
  
  <select id="selectCounts" parameterClass="com.synesoft.ftzmis.domain.model.FtzActMstr" resultClass="java.lang.Integer">
  		select count(*) from FTZ_ACT_MSTR
  		<include refid="queryCondition" />
  </select>
  
  <select id="selectList" parameterClass="com.synesoft.ftzmis.domain.model.FtzActMstr" resultMap="FtzActMstrResult">
		select * from FTZ_ACT_MSTR
		<include refid="queryCondition" />
	</select>
  
  <update id="updateContentByPmkey" parameterClass="com.synesoft.ftzmis.domain.model.FtzActMstr">
  		update FTZ_ACT_MSTR
    <dynamic prepend="set">
    	<isNotNull prepend="," property="accStatus">
    		ACC_STATUS = #accStatus:CHAR#
    	</isNotNull>
    </dynamic>
     where ACCOUNT_NO = #accountNo:VARCHAR#
      and SUB_ACCOUNT_NO = #subAccountNo:VARCHAR#
  </update>
</sqlMap>