<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="BAT_STEP_INFO" >
  <resultMap id="BatStepInfoResult" class="com.synesoft.sysrunner.domain.model.BatStepInfo" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Dec 05 17:02:49 CST 2013.
    -->
    <result column="STEP_ID" property="stepId" jdbcType="CHAR" />
    <result column="TASK_ID" property="taskId" jdbcType="CHAR" />
    <result column="STEP_NAME" property="stepName" jdbcType="VARCHAR" />
    <result column="STEP_START_TYPE" property="stepStartType" jdbcType="CHAR" />
    <result column="STEP_START_DAY" property="stepStartDay" jdbcType="DECIMAL" />
    <result column="SUB_STEP_NUM" property="subStepNum" jdbcType="DECIMAL" />
    <result column="STEP_COMMAND" property="stepCommand" jdbcType="VARCHAR" />
    <result column="STEP_ENABLE" property="stepEnable" jdbcType="CHAR" />
    <result column="PRIORITY" property="priority" jdbcType="DECIMAL" />
    <result column="ALLOW_SKIP" property="allowSkip" jdbcType="CHAR" />
    <result column="AUTO_SKIP" property="autoSkip" jdbcType="CHAR" />
  </resultMap>
  
  <select id="selectByPrimaryKey" resultMap="BatStepInfoResult" parameterClass="com.synesoft.sysrunner.domain.model.BatStepInfoKey" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Dec 05 17:02:49 CST 2013.
    -->
    select STEP_ID, TASK_ID, STEP_NAME, STEP_START_TYPE, STEP_START_DAY, SUB_STEP_NUM, STEP_COMMAND,
      STEP_ENABLE, PRIORITY, ALLOW_SKIP, AUTO_SKIP
    from BAT_STEP_INFO
    where trim(STEP_ID) = #stepId:CHAR#
      and trim(TASK_ID) = #taskId:CHAR#
  </select>
  
  <delete id="deleteByPrimaryKey" parameterClass="com.synesoft.sysrunner.domain.model.BatStepInfoKey" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Dec 05 17:02:49 CST 2013.
    -->
    delete from BAT_STEP_INFO
     where trim(STEP_ID) = #stepId:CHAR#
      and trim(TASK_ID) = #taskId:CHAR#
  </delete>
 
  <insert id="insert" parameterClass="com.synesoft.sysrunner.domain.model.BatStepInfo" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Dec 05 17:02:49 CST 2013.
    -->
    insert into BAT_STEP_INFO (STEP_ID, TASK_ID, STEP_NAME, STEP_START_TYPE, STEP_START_DAY,
      SUB_STEP_NUM, STEP_COMMAND, STEP_ENABLE, PRIORITY, ALLOW_SKIP, AUTO_SKIP)
    values (#stepId:CHAR#, #taskId:CHAR#, #stepName:VARCHAR#, #stepStartType:CHAR#,
      #stepStartDay:DECIMAL#, #subStepNum:DECIMAL#, #stepCommand:VARCHAR#, #stepEnable:CHAR#,
      #priority:DECIMAL#, #allowSkip:CHAR#, #autoSkip:CHAR#)
  </insert>
  <update id="updateByPrimaryKey" parameterClass="com.synesoft.sysrunner.domain.model.BatStepInfo" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Dec 05 17:02:49 CST 2013.
    -->
    update BAT_STEP_INFO
    set STEP_NAME = #stepName:VARCHAR#,
      STEP_START_TYPE = #stepStartType:CHAR#,
      STEP_START_DAY = #stepStartDay:DECIMAL#,
      SUB_STEP_NUM = #subStepNum:DECIMAL#,
      STEP_COMMAND = #stepCommand:VARCHAR#,
      STEP_ENABLE = #stepEnable:CHAR#,
      PRIORITY = #priority:DECIMAL#,
      ALLOW_SKIP = #allowSkip:CHAR#,
      AUTO_SKIP = #autoSkip:CHAR#
    where trim(STEP_ID) = #stepId:CHAR#
      and trim(TASK_ID) = #taskId:CHAR#
  </update>
  <update id="updateByPrimaryKeySelective" parameterClass="com.synesoft.sysrunner.domain.model.BatStepInfo" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Dec 05 17:02:49 CST 2013.
    -->
    update BAT_STEP_INFO
    <dynamic prepend="set" >
      <isNotNull prepend="," property="stepName" >
        STEP_NAME = #stepName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="stepStartType" >
        STEP_START_TYPE = #stepStartType:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="stepStartDay" >
        STEP_START_DAY = #stepStartDay:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="subStepNum" >
        SUB_STEP_NUM = #subStepNum:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="stepCommand" >
        STEP_COMMAND = #stepCommand:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="stepEnable" >
        STEP_ENABLE = #stepEnable:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="priority" >
        PRIORITY = #priority:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="allowSkip" >
        ALLOW_SKIP = #allowSkip:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="autoSkip" >
        AUTO_SKIP = #autoSkip:CHAR#
      </isNotNull>
    </dynamic>
     where trim(STEP_ID) = #stepId:CHAR#
      and trim(TASK_ID) = #taskId:CHAR#
  </update>
  
   <delete id="deleteByTaskId" parameterClass="com.synesoft.sysrunner.domain.model.BatStepInfo" >
    delete from BAT_STEP_INFO
    where trim(TASK_ID) = #taskId:VARCHAR#
  </delete>
  
   <select id="selectList" resultMap="BatStepInfoResult" parameterClass="com.synesoft.sysrunner.domain.model.BatStepInfo" >
    select STEP_ID, TASK_ID, STEP_NAME, STEP_START_TYPE, STEP_START_DAY, SUB_STEP_NUM, STEP_COMMAND,
      STEP_ENABLE, PRIORITY, ALLOW_SKIP, AUTO_SKIP
    from BAT_STEP_INFO
    where trim(TASK_ID) = #taskId:CHAR#
    order by STEP_ID,TASK_ID
  </select>
  
  <select id="selectCounts" resultClass="java.lang.Integer" parameterClass="com.synesoft.sysrunner.domain.model.BatStepInfo" >
    select count(*)
    from BAT_STEP_INFO
    where trim(TASK_ID) = #taskId:CHAR#
  </select>
 
</sqlMap>