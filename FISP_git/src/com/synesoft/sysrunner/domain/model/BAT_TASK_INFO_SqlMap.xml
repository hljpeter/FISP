<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="BAT_TASK_INFO" >
  <resultMap id="BatTaskInfoResult" class="com.synesoft.sysrunner.domain.model.BatTaskInfo" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Dec 05 17:02:49 CST 2013.
    -->
    <result column="TASK_ID" property="taskId" jdbcType="CHAR" />
    <result column="TASK_NAME" property="taskName" jdbcType="VARCHAR" />
    <result column="DIM_TYPE_ID" property="dimTypeId" jdbcType="CHAR" />
    <result column="TASK_START_TYPE" property="taskStartType" jdbcType="CHAR" />
    <result column="TASK_START_TIME" property="taskStartTime" jdbcType="CHAR" />
    <result column="TASK_START_DAY" property="taskStartDay" jdbcType="DECIMAL" />
    <result column="TASK_START_TN" property="taskStartTn" jdbcType="DECIMAL" />
    <result column="TASK_END_TIME" property="taskEndTime" jdbcType="CHAR" />
    <result column="TASK_POLLING_INTERVAL" property="taskPollingInterval" jdbcType="DECIMAL" />
    <result column="TASK_ENABLE" property="taskEnable" jdbcType="CHAR" />
    <result column="ALLOW_MULTIPLE" property="allowMultiple" jdbcType="CHAR" />
    <result column="ALLOW_MANUAL" property="allowManual" jdbcType="CHAR" />
  </resultMap>
  
  <select id="selectByPrimaryKey" resultMap="BatTaskInfoResult" parameterClass="com.synesoft.sysrunner.domain.model.BatTaskInfo" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Dec 05 17:02:49 CST 2013.
    -->
    select TASK_ID, TASK_NAME, DIM_TYPE_ID, TASK_START_TYPE, TASK_START_TIME, TASK_START_DAY,
      TASK_START_TN, TASK_END_TIME, TASK_POLLING_INTERVAL, TASK_ENABLE, ALLOW_MULTIPLE, ALLOW_MANUAL
    from BAT_TASK_INFO
    where trim(TASK_ID) = #taskId:CHAR#
  </select>
  
  <delete id="deleteByPrimaryKey" parameterClass="com.synesoft.sysrunner.domain.model.BatTaskInfo" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Dec 05 17:02:49 CST 2013.
    -->
    delete from BAT_TASK_INFO
    where trim(TASK_ID) = #taskId:CHAR#
  </delete>
  
  <insert id="insert" parameterClass="com.synesoft.sysrunner.domain.model.BatTaskInfo" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Dec 05 17:02:49 CST 2013.
    -->
    insert into BAT_TASK_INFO (TASK_ID, TASK_NAME, DIM_TYPE_ID, TASK_START_TYPE, TASK_START_TIME,
      TASK_START_DAY, TASK_START_TN, TASK_END_TIME, TASK_POLLING_INTERVAL, TASK_ENABLE,
      ALLOW_MULTIPLE, ALLOW_MANUAL)
    values (#taskId:CHAR#, #taskName:VARCHAR#, #dimTypeId:CHAR#, #taskStartType:CHAR#,
      #taskStartTime:CHAR#, #taskStartDay:DECIMAL#, #taskStartTn:DECIMAL#, #taskEndTime:CHAR#,
      #taskPollingInterval:DECIMAL#, #taskEnable:CHAR#, #allowMultiple:CHAR#, #allowManual:CHAR#)
  </insert>
  <update id="updateByPrimaryKey" parameterClass="com.synesoft.sysrunner.domain.model.BatTaskInfo" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Dec 05 17:02:49 CST 2013.
    -->
    update BAT_TASK_INFO
    set TASK_NAME = #taskName:VARCHAR#,
      DIM_TYPE_ID = #dimTypeId:CHAR#,
      TASK_START_TYPE = #taskStartType:CHAR#,
      TASK_START_TIME = #taskStartTime:CHAR#,
      TASK_START_DAY = #taskStartDay:DECIMAL#,
      TASK_START_TN = #taskStartTn:DECIMAL#,
      TASK_END_TIME = #taskEndTime:CHAR#,
      TASK_POLLING_INTERVAL = #taskPollingInterval:DECIMAL#,
      TASK_ENABLE = #taskEnable:CHAR#,
      ALLOW_MULTIPLE = #allowMultiple:CHAR#,
      ALLOW_MANUAL = #allowManual:CHAR#
    where trim(TASK_ID) = #taskId:CHAR#
  </update>
  <update id="updateByPrimaryKeySelective" parameterClass="com.synesoft.sysrunner.domain.model.BatTaskInfo" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Thu Dec 05 17:02:49 CST 2013.
    -->
    update BAT_TASK_INFO
    <dynamic prepend="set" >
      <isNotNull prepend="," property="taskName" >
        TASK_NAME = #taskName:VARCHAR#
      </isNotNull>
      <isNotEmpty prepend="," property="dimTypeId" >
        DIM_TYPE_ID = #dimTypeId:CHAR#
      </isNotEmpty>
      <isNotNull prepend="," property="taskStartType" >
        TASK_START_TYPE = #taskStartType:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="taskStartTime" >
        TASK_START_TIME = #taskStartTime:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="taskStartDay" >
        TASK_START_DAY = #taskStartDay:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="taskStartTn" >
        TASK_START_TN = #taskStartTn:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="taskEndTime" >
        TASK_END_TIME = #taskEndTime:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="taskPollingInterval" >
        TASK_POLLING_INTERVAL = #taskPollingInterval:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="taskEnable" >
        TASK_ENABLE = #taskEnable:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="allowMultiple" >
        ALLOW_MULTIPLE = #allowMultiple:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="allowManual" >
        ALLOW_MANUAL = #allowManual:CHAR#
      </isNotNull>
    </dynamic>
    where trim(TASK_ID) = #taskId:CHAR#
  </update>
  
  <!-- common query condition -->
	<sql id="queryCondition">
		where 1=1
		<isNotEmpty property="taskId">
			and trim(TASK_ID) = #taskId:VARCHAR#
		</isNotEmpty>
		<isNotEmpty property="taskStartDay">
			and trim(TASK_START_DAY) = #taskStartDay#
		</isNotEmpty>
		<isNotEmpty property="taskName">
			and TASK_NAME LIKE '%$taskName$%'
		</isNotEmpty>
		<isNotEmpty property="taskStartType">
			and trim(TASK_START_TYPE) = #taskStartType:VARCHAR#
		</isNotEmpty>
		<isNotEmpty property="taskStartTimeStart">
			<![CDATA[ and trim(TASK_START_TIME) >= #taskStartTimeStart:VARCHAR# ]]>
		</isNotEmpty>
		
		<isNotEmpty property="taskStartTimeEnd">
			<![CDATA[ and trim(TASK_START_TIME) <= #taskStartTimeEnd:VARCHAR# ]]>
		</isNotEmpty>
	</sql>
  
  
  <select id="selectList" resultMap="BatTaskInfoResult"
		parameterClass="com.synesoft.sysrunner.domain.model.BatTaskInfo">
		select TASK_ID, TASK_NAME, DIM_TYPE_ID, TASK_START_TYPE, TASK_START_TIME, TASK_START_DAY,
      TASK_START_TN, TASK_END_TIME, TASK_POLLING_INTERVAL, TASK_ENABLE, ALLOW_MULTIPLE, ALLOW_MANUAL
		from BAT_TASK_INFO
		<include refid="BAT_TASK_INFO.queryCondition" />
		order by TASK_START_TYPE,TASK_ID
	</select>

	<select id="selectCounts" resultClass="java.lang.Integer"
		parameterClass="com.synesoft.sysrunner.domain.model.BatTaskInfo">
		select count(*)
		from BAT_TASK_INFO
		<include refid="BAT_TASK_INFO.queryCondition" />
	</select>
	
	<select id="selectListForMax" resultMap="BatTaskInfoResult"
		parameterClass="com.synesoft.sysrunner.domain.model.BatTaskInfo">
		select TASK_ID, TASK_NAME, DIM_TYPE_ID, TASK_START_TYPE, TASK_START_TIME, TASK_START_DAY,
      TASK_START_TN, TASK_END_TIME, TASK_POLLING_INTERVAL, TASK_ENABLE, ALLOW_MULTIPLE, ALLOW_MANUAL
		from BAT_TASK_INFO
		order by TASK_ID
	</select>
  
 
</sqlMap>